{% for commande in commandes %}
    <tr>
        <td>{{ commande.id }}</td>
        <td>{{ commande.dateCommande ? commande.dateCommande|date('d/m/Y H:i') : 'Non spécifiée' }}</td>
        <td>{{ commande.status }}</td>
        <td>{{ commande.total }}</td>
        <td>
            <!-- Bouton Voir -->
            <a href="{{ path('app_commande_show', {'id': commande.id}) }}" class="btn btn-info btn-sm">Voir</a>
            
            <!-- Bouton Editer -->
            <a href="{{ path('app_commande_edit', {'id': commande.id}) }}" class="btn btn-warning btn-sm">Éditer</a>
            
            <!-- Bouton Supprimer -->
            <form action="{{ path('app_commande_delete', {'id': commande.id}) }}" method="post" style="display:inline;">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ commande.id) }}">
                <button class="btn btn-danger btn-sm" type="submit">Supprimer</button>
            </form>

            <!-- Bouton Valider -->
            {% if commande.status != 'Validée' %}
                <form action="{{ path('app_commande_valider', {'id': commande.id}) }}" method="post" style="display:inline;">
                    <button class="btn btn-success btn-sm" type="submit">Valider</button>
                </form>
            {% else %}
                <span class="badge bg-success">Validée</span>
            {% endif %}
        </td>
    </tr>
{% else %}
    <tr>
        <td colspan="5" class="text-center">Aucune commande trouvée</td>
    </tr>
{% endfor %}

